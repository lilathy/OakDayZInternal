<Window x:Class="OakPanel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Oak Control Panel" 
        Height="720" Width="1280"
        MinHeight="720" MinWidth="1280"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="#00000000"
        ResizeMode="CanResizeWithGrip"
        ShowInTaskbar="True"
        UseLayoutRounding="True">
    
    <Window.Resources>
        <Storyboard x:Key="FadeIn">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </Window.Resources>
    
    <Border Background="{StaticResource BackgroundBrush}" CornerRadius="12" 
            BorderBrush="{StaticResource BorderBrush}" BorderThickness="1"
            SnapsToDevicePixels="True">
        <Border.Effect>
            <DropShadowEffect Color="#000000" Opacity="0.35" BlurRadius="24" ShadowDepth="0" Direction="0"/>
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
                        
            <Border Grid.Row="0" Background="{StaticResource SidebarBrush}" 
                    CornerRadius="12,12,0,0"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="260"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,0,8,0">
                        <Button Content="â”€" Width="40" Height="32" 
                                Background="Transparent" 
                                Foreground="{StaticResource TextDimBrush}"
                                BorderThickness="0"
                                Click="MinimizeButton_Click"
                                Cursor="Hand"
                                FontSize="14"/>
                        <Button x:Name="MaximizeBtn" Content="â–¡" Width="40" Height="32" 
                                Background="Transparent" 
                                Foreground="{StaticResource TextDimBrush}"
                                BorderThickness="0"
                                Click="MaximizeButton_Click"
                                Cursor="Hand"
                                FontSize="14"/>
                        <Button Content="âœ•" Width="40" Height="32" 
                                Background="Transparent" 
                                Foreground="{StaticResource TextDimBrush}"
                                BorderThickness="0"
                                Click="CloseButton_Click"
                                Cursor="Hand"
                                FontSize="12"
                                MouseEnter="CloseButton_MouseEnter"
                                MouseLeave="CloseButton_MouseLeave"/>
                    </StackPanel>
                </Grid>
            </Border>
            
                           
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="260"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                          
                <Border Grid.Column="0" Background="{StaticResource SidebarBrush}"
                        CornerRadius="0,0,0,12">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                                     
                        <Grid Grid.Row="0" x:Name="TabContainerGrid" Margin="16,20,16,0">
                            <StackPanel>
                                <Button x:Name="VisualsTab" Click="TabButton_Click" Tag="0">
                                    <Button.Style>
                                        <Style TargetType="Button" BasedOn="{StaticResource TabButtonActiveStyle}"/>
                                    </Button.Style>
                                    <StackPanel Orientation="Horizontal">
                                        <Border Width="32" Height="32" CornerRadius="8" 
                                                Background="{StaticResource CardHoverBrush}" Margin="0,0,12,0">
                                            <TextBlock Text="ðŸ‘" FontSize="16" 
                                                      HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="Visuals" FontSize="14" FontWeight="Medium"/>
                                            <TextBlock Text="ESP &amp; Display" FontSize="11" 
                                                      Foreground="{StaticResource TextMutedBrush}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Button>
                                <Button x:Name="SettingsTab" Style="{StaticResource TabButtonStyle}"
                                       Click="TabButton_Click" Tag="1">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Width="32" Height="32" CornerRadius="8" 
                                                Background="{StaticResource CardHoverBrush}" Margin="0,0,12,0">
                                            <TextBlock Text="âš™" FontSize="16" 
                                                      HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="Settings" FontSize="14" FontWeight="Medium"/>
                                            <TextBlock Text="Configuration" FontSize="11" 
                                                      Foreground="{StaticResource TextMutedBrush}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                            <!-- Sliding accent line, position animated in code -->
                            <Border x:Name="TabIndicator"
                                    Width="3" Height="44"
                                    HorizontalAlignment="Left" VerticalAlignment="Top"
                                    Margin="-16,0,0,0"
                                    Background="{StaticResource AccentBrush}"
                                    CornerRadius="0,2,2,0"
                                    IsHitTestVisible="False">
                                <Border.RenderTransform>
                                    <TranslateTransform x:Name="TabIndicatorTransform" Y="0"/>
                                </Border.RenderTransform>
                            </Border>
                        </Grid>
                        
                                        
                        <Border Grid.Row="1" BorderBrush="{StaticResource BorderBrush}" 
                                BorderThickness="0,1,0,0" Padding="20,16" Margin="0,0,0,8">
                            <StackPanel>
                                <TextBlock Text="PLAYER POSITION" FontSize="10" FontWeight="SemiBold" 
                                          Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,8"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="X" FontSize="10" Foreground="{StaticResource TextMutedBrush}"/>
                                        <TextBlock x:Name="CoordX" Text="0.00" FontSize="12" FontFamily="Consolas"
                                                  Foreground="{StaticResource TextDimBrush}"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1">
                                        <TextBlock Text="Y" FontSize="10" Foreground="{StaticResource TextMutedBrush}"/>
                                        <TextBlock x:Name="CoordY" Text="0.00" FontSize="12" FontFamily="Consolas"
                                                  Foreground="{StaticResource TextDimBrush}"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="Z" FontSize="10" Foreground="{StaticResource TextMutedBrush}"/>
                                        <TextBlock x:Name="CoordZ" Text="0.00" FontSize="12" FontFamily="Consolas"
                                                  Foreground="{StaticResource TextDimBrush}"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>
                
                               
                <Border Grid.Column="1" Background="{StaticResource BackgroundBrush}" 
                        CornerRadius="0,0,12,0">
                    <ScrollViewer x:Name="MainScrollViewer"
                                  VerticalScrollBarVisibility="Auto" 
                                  HorizontalScrollBarVisibility="Disabled"
                                  Padding="24,20,24,20"
                                  Loaded="MainScrollViewer_Loaded"
                                  PreviewMouseWheel="MainScrollViewer_PreviewMouseWheel"
                                  ScrollChanged="MainScrollViewer_ScrollChanged">
                        <ContentControl x:Name="ContentArea" VerticalAlignment="Top">
                            <ContentControl.RenderTransform>
                                <TranslateTransform x:Name="ContentTransform"/>
                            </ContentControl.RenderTransform>
                        </ContentControl>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
    </Border>
    
    <Window.Style>
        <Style TargetType="Window">
            <Setter Property="WindowChrome.WindowChrome">
                <Setter.Value>
                    <WindowChrome CaptionHeight="0" ResizeBorderThickness="8" GlassFrameThickness="0"/>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Style>
    
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource FadeIn}"/>
        </EventTrigger>
    </Window.Triggers>
</Window>
